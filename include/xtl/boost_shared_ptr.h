///////////////////////////////////////////////////////////////////////////////
//
//	Description: Contains composite functions for the STL hash_map class
//
///////////////////////////////////////////////////////////////////////////////
#pragma once
///////////////////////////////////////////////////////////////////////////////
#include "objio.h"
#include <boost/shared_ptr.hpp>
#include <memory>
///////////////////////////////////////////////////////////////////////////////
template<class Format, typename T>
inline void composite(obj_input<Format>& stream, boost::shared_ptr<T>& p)
{
	T* pt = 0;
	stream.pointer(pt);
	p.reset(pt);
}
///////////////////////////////////////////////////////////////////////////////
template<class Format, typename T>
inline void composite(obj_output<Format>& stream, boost::shared_ptr<T>& p)
{
	stream.pointer(p.get());
}
///////////////////////////////////////////////////////////////////////////////
template<class Format, typename T>
inline void composite(obj_input<Format>& stream, std::unique_ptr<T>& p)
{
	T* pt = 0;
	stream.pointer(pt);
	p.reset(pt);
}
///////////////////////////////////////////////////////////////////////////////
template<class Format, typename T>
inline void composite(obj_output<Format>& stream, std::unique_ptr<T>& p)
{
	stream.pointer(p.get());
}
///////////////////////////////////////////////////////////////////////////////
