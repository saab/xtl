///////////////////////////////////////////////////////////////////////////////
//
//	Description: Contains composite functions for the STL hash_map class
//
///////////////////////////////////////////////////////////////////////////////
#pragma once
///////////////////////////////////////////////////////////////////////////////
#include "objio.h"
#include <boost/shared_array.hpp>
///////////////////////////////////////////////////////////////////////////////
template<class Format, typename T, class Idx>
inline void composite(obj_input<Format>& stream, std::pair<Idx&, boost::shared_array<T>&>& p)
{
	T* pt = 0;
	stream.bytes(pt, p.first);
	p.second.reset(pt);
}
///////////////////////////////////////////////////////////////////////////////
template<class Format, typename T, class Idx>
inline void composite(obj_output<Format>& stream, std::pair<Idx&, boost::shared_array<T>&>& p)
{
	stream.bytes(p.second.get(), p.first);
}
///////////////////////////////////////////////////////////////////////////////
